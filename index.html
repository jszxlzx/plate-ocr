
<!doctype html>
<html lang="zh-HK"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>車牌 OCR v6.6d（強力自動＋詳細日誌＋車場清單）</title>
<style>
body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial;margin:14px;max-width:980px}
.card{border:1px solid #e5e5e5;border-radius:12px;padding:12px;margin-top:12px}
.row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
button{padding:9px 12px;border-radius:10px;border:1px solid #ccc;background:#fff}
textarea{width:100%}
</style>
</head><body>
<h1>車牌 OCR v6.6d（強力自動＋詳細日誌＋車場清單）</h1>
<div class="card">
  <div class="row">
    <label>標題</label><input id="title">
    <button id="btnNow">🕒 用現在時間</button>
  </div>
  <div class="row" id="lotsBox" style="margin-top:8px;"></div>
  <details style="margin-top:6px;">
    <summary>✏️ 編輯車場清單</summary>
    <div class="row" style="margin-top:6px;">
      <textarea id="lotsEdit" rows="2"></textarea>
      <button id="saveLots">儲存清單</button>
    </div>
  </details>
</div>
<script>
function pad(n){return n<10?('0'+n):n}
function nowTitle(){const d=new Date();return `${pad(d.getDate())}/${pad(d.getMonth()+1)} ${pad(d.getHours())}${pad(d.getMinutes())}`;}
const lotsKey='plateocr.lots';
const defaultLots='牛頭角,新蒲崗,觀塘,葵芳,荃灣,旺角,油麻地,九龍灣,尖沙咀,中環,將軍澳';
let lots=(localStorage.getItem(lotsKey)||defaultLots).split(',').map(s=>s.trim()).filter(Boolean);
function setTitleWithLot(lot){document.getElementById('title').value=`${nowTitle()} ${lot}`;}
function renderLots(){const box=document.getElementById('lotsBox');box.innerHTML='';lots.forEach(name=>{const b=document.createElement('button');b.textContent=name;b.onclick=()=>setTitleWithLot(name);box.appendChild(b);});document.getElementById('lotsEdit').value=lots.join(',');}
document.getElementById('saveLots').onclick=()=>{lots=(document.getElementById('lotsEdit').value||'').split(',').map(s=>s.trim()).filter(Boolean);if(!lots.length)lots=defaultLots.split(',');localStorage.setItem(lotsKey,lots.join(','));renderLots();alert('已儲存車場清單');};
document.getElementById('btnNow').onclick=()=>{document.getElementById('title').value=nowTitle();};
renderLots();
</script>
</body></html>
